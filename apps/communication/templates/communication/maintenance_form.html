{% extends 'base.html' %}


{% block extra_css %}
{% load static %}
<link rel="stylesheet" href="{% static 'css/ui-tokens.css' %}">
<link rel="stylesheet" href="{% static 'css/ui-components.css' %}">
{% include 'partials/modern_theme.html' %}
<style>
    .communication-form {
        display: flex;
        flex-direction: column;
        gap: 16px;
    }

    .communication-form p {
        margin: 0;
        display: flex;
        flex-direction: column;
        gap: 6px;
    }

    .communication-form label {
        font-size: 12px;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        color: var(--ops-muted);
        font-weight: 600;
    }

    .communication-form input,
    .communication-form select,
    .communication-form textarea {
        border-radius: var(--ops-radius-md);
        border: 1px solid var(--ops-border);
        padding: 10px 12px;
        font-size: 14px;
        background: var(--input-bg);
        color: var(--input-text);
        transition: border-color 0.2s ease, box-shadow 0.2s ease;
    }

    .communication-form input:focus,
    .communication-form select:focus,
    .communication-form textarea:focus {
        border-color: var(--input-focus);
        box-shadow: 0 0 0 0.2rem var(--focus-ring);
        outline: none;
    }

    .communication-form textarea {
        min-height: 120px;
        resize: vertical;
    }

    .communication-form .errorlist {
        margin: 4px 0 0;
        padding: 0;
        list-style: none;
        color: var(--danger);
        font-size: 12px;
    }

    .communication-form .helptext,
    .communication-form .form-text {
        display: none;
    }
</style>
{% endblock %}
{% block content %}
<div class="container page-shell">
{% if object %}
    {% include 'partials/page_header.html' with title="编辑维修申请" subtitle="更新维修问题信息" %}
{% else %}
    {% include 'partials/page_header.html' with title="提交维修申请" subtitle="填写维修问题信息" %}
{% endif %}
    <div class="ui-card ui-section">
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="communication-form">
                {{ form.as_p }}
            </div>
            
            <button type="submit" class="ui-btn ui-btn-primary">
                {% if object %}更新{% else %}提交{% endif %}
            </button>
            <a href="{% url 'communication:maintenance_list' %}" class="ui-btn ui-btn-outline">取消</a>
        </form>
    </div>
</div>
{% endblock %}
