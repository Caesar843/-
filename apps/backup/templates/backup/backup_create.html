{% extends 'base.html' %}

{% block title %}&#x521B;&#x5EFA;&#x5907;&#x4EFD;{% endblock %}


{% block extra_css %}
{% include 'partials/modern_theme.html' %}
{% endblock %}



{% block content %}
<div class="container mt-4 page-shell" style="max-width: 700px;">
    <div class="card section-card">
        <div class="card-header bg-primary text-white">
            <h4 class="mb-0"><i class="fas fa-plus"></i> &#x521B;&#x5EFA;&#x6570;&#x636E;&#x5907;&#x4EFD;</h4>
        </div>
        <div class="card-body">
            <form method="post">
                {% csrf_token %}

                <!-- &#x5907;&#x4EFD;&#x7C7B;&#x578B; -->
                <div class="mb-4">
                    <label class="form-label"><strong>&#x5907;&#x4EFD;&#x7C7B;&#x578B;</strong></label>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="backup_type" id="full_backup" value="FULL"
                            checked>
                        <label class="form-check-label" for="full_backup">
                            <strong>&#x5168;&#x91CF;&#x5907;&#x4EFD;</strong>
                            <small class="d-block text-muted">&#x5907;&#x4EFD;&#x6240;&#x6709;&#x6570;&#x636E;&#xFF0C;&#x5305;&#x62EC;&#x5386;&#x53F2;&#x8BB0;&#x5F55;&#x3002;&#x8017;&#x65F6;&#x8F83;&#x957F;&#xFF0C;&#x6587;&#x4EF6;&#x8F83;&#x5927;&#x3002;</small>
                        </label>
                    </div>
                    <div class="form-check mt-2">
                        <input class="form-check-input" type="radio" name="backup_type" id="incremental_backup"
                            value="INCREMENTAL">
                        <label class="form-check-label" for="incremental_backup">
                            <strong>&#x589E;&#x91CF;&#x5907;&#x4EFD;</strong>
                            <small class="d-block text-muted">&#x4EC5;&#x5907;&#x4EFD;&#x4E0A;&#x6B21;&#x5907;&#x4EFD;&#x540E;&#x65B0;&#x589E;&#x6216;&#x4FEE;&#x6539;&#x6570;&#x636E;&#x3002;&#x901F;&#x5EA6;&#x5FEB;&#xFF0C;&#x6587;&#x4EF6;&#x5C0F;&#x3002;</small>
                        </label>
                    </div>
                </div>

                <hr>

                <!-- &#x5907;&#x4EFD;&#x6570;&#x636E;&#x7C7B;&#x578B; -->
                <div class="mb-4">
                    <label class="form-label"><strong>&#x9009;&#x62E9;&#x5907;&#x4EFD;&#x6570;&#x636E;&#x7C7B;&#x578B;</strong></label>
                    <div class="alert alert-info">
                        <i class="fas fa-info-circle"></i>
                        &#x52FE;&#x9009;&#x4E0B;&#x65B9;&#x9009;&#x9879;&#x4EE5;&#x9009;&#x62E9;&#x8981;&#x5907;&#x4EFD;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;
                    </div>

                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" name="data_types" value="SHOP"
                                    id="shop_data" checked>
                                <label class="form-check-label" for="shop_data">
                                    <strong>&#x5E97;&#x94FA;&#x4FE1;&#x606F;</strong>
                                    <small class="d-block text-muted">&#x5E97;&#x94FA;&#x57FA;&#x672C;&#x4FE1;&#x606F;&#x3001;&#x8054;&#x7CFB;&#x65B9;&#x5F0F;&#x7B49;</small>
                                </label>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" name="data_types" value="CONTRACT"
                                    id="contract_data" checked>
                                <label class="form-check-label" for="contract_data">
                                    <strong>&#x5408;&#x7EA6;&#x6570;&#x636E;</strong>
                                    <small class="d-block text-muted">&#x5E97;&#x94FA;&#x5408;&#x7EA6;&#x53CA;&#x6761;&#x6B3E;&#x4FE1;&#x606F;</small>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" name="data_types" value="OPERATION"
                                    id="operation_data" checked>
                                <label class="form-check-label" for="operation_data">
                                    <strong>&#x8FD0;&#x8425;&#x6570;&#x636E;</strong>
                                    <small class="d-block text-muted">&#x8BBE;&#x5907;&#x6570;&#x636E;&#x3001;&#x624B;&#x5DE5;&#x5F55;&#x5165;&#x6570;&#x636E;&#x7B49;</small>
                                </label>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" name="data_types" value="FINANCE"
                                    id="finance_data" checked>
                                <label class="form-check-label" for="finance_data">
                                    <strong>&#x8D22;&#x52A1;&#x8BB0;&#x5F55;</strong>
                                    <small class="d-block text-muted">&#x7F34;&#x8D39;&#x8BB0;&#x5F55;&#x3001;&#x6536;&#x5165;&#x7EDF;&#x8BA1;&#x7B49;</small>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" name="data_types" value="LOG"
                                    id="log_data" checked>
                                <label class="form-check-label" for="log_data">
                                    <strong>&#x4E8B;&#x52A1;&#x65E5;&#x5FD7;</strong>
                                    <small class="d-block text-muted">&#x7CFB;&#x7EDF;&#x64CD;&#x4F5C;&#x65E5;&#x5FD7;&#x3001;&#x5BA1;&#x8BA1;&#x8BB0;&#x5F55;</small>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <hr>

                <!-- &#x5907;&#x4EFD;&#x8BF4;&#x660E; -->
                <div class="mb-4">
                    <label for="description" class="form-label"><strong>&#x5907;&#x4EFD;&#x8BF4;&#x660E;</strong> (&#x53EF;&#x9009;)</label>
                    <textarea class="form-control" id="description" name="description" rows="3"
                        placeholder="&#x4F8B;&#x5982;&#xFF1A;&#x5B9A;&#x671F;&#x5907;&#x4EFD;&#x3001;&#x5BA2;&#x6237;&#x6570;&#x636E;&#x5B8C;&#x6574;&#x6027;&#x68C0;&#x67E5;&#x7B49;"></textarea>
                    <small class="text-muted">&#x586B;&#x5199;&#x6B64;&#x5907;&#x4EFD;&#x7684;&#x7528;&#x9014;&#x8BF4;&#x660E;&#xFF0C;&#x65B9;&#x4FBF;&#x65E5;&#x540E;&#x67E5;&#x8BE2;&#x548C;&#x6062;&#x590D;&#x3002;</small>
                </div>

                <!-- &#x6CE8;&#x610F;&#x4E8B;&#x9879; -->
                <div class="alert alert-warning mb-4">
                    <h6 class="alert-heading">&#x6CE8;&#x610F;&#xFF1A;&#x5907;&#x4EFD;&#x8BF4;&#x660E;</h6>
                    <ul class="mb-0">
                        <li>&#x5907;&#x4EFD;&#x8FC7;&#x7A0B;&#x4E2D;&#x7CFB;&#x7EDF;&#x4ECD;&#x53EF;&#x6B63;&#x5E38;&#x4F7F;&#x7528;</li>
                        <li>&#x5907;&#x4EFD;&#x6587;&#x4EF6;&#x5B58;&#x50A8;&#x5728;&#x670D;&#x52A1;&#x5668; <code>backups/</code> &#x76EE;&#x5F55;</li>
                        <li>&#x8BF7;&#x5B9A;&#x671F;&#x4E0B;&#x8F7D;&#x5907;&#x4EFD;&#x6587;&#x4EF6;&#x5E76;&#x5B58;&#x50A8;&#x5230;&#x5B89;&#x5168;&#x4F4D;&#x7F6E;</li>
                        <li>&#x5168;&#x91CF;&#x5907;&#x4EFD;&#x53EF;&#x80FD;&#x9700;&#x8981; 5-15 &#x5206;&#x949F;&#xFF0C;&#x8BF7;&#x8010;&#x5FC3;&#x7B49;&#x5F85;</li>
                    </ul>
                </div>

                <!-- &#x63D0;&#x4EA4;&#x6309;&#x94AE; -->
                <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                    <a href="{% url 'backup:backup_list' %}" class="btn btn-secondary">
                        <i class="fas fa-times"></i> &#x53D6;&#x6D88;
                    </a>
                    <button type="submit" class="btn btn-primary btn-lg">
                        <i class="fas fa-plus-circle"></i> &#x5F00;&#x59CB;&#x5907;&#x4EFD;
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- &#x4FE1;&#x606F;&#x63D0;&#x793A; -->
    <div class="card mt-4">
        <div class="card-header bg-light">
            <h5 class="mb-0">&#x5907;&#x4EFD;&#x987B;&#x77E5;</h5>
        </div>
        <div class="card-body">
            <h6>&#x5907;&#x4EFD;&#x7C7B;&#x578B;&#x8BF4;&#x660E;</h6>
            <p><strong>&#x5168;&#x91CF;&#x5907;&#x4EFD; (FULL)&#xFF1A;</strong>&#x5907;&#x4EFD;&#x7CFB;&#x7EDF;&#x4E2D;&#x6240;&#x6709;&#x6570;&#x636E;&#xFF0C;&#x5305;&#x62EC;&#x5386;&#x53F2;&#x8BB0;&#x5F55;&#x3002;&#x8FD9;&#x7C7B;&#x5907;&#x4EFD;&#x6587;&#x4EF6;&#x8F83;&#x5927;&#xFF0C;&#x6062;&#x590D;&#x901F;&#x5EA6;&#x5FEB;&#xFF0C;&#x9002;&#x5408;&#x5B9A;&#x671F;&#x5B8C;&#x6574;&#x5907;&#x4EFD;&#x3002;</p>
            <p><strong>&#x589E;&#x91CF;&#x5907;&#x4EFD; (INCREMENTAL)&#xFF1A;</strong>&#x4EC5;&#x5907;&#x4EFD;&#x4E0A;&#x6B21;&#x5907;&#x4EFD;&#x540E;&#x65B0;&#x589E;&#x6216;&#x4FEE;&#x6539;&#x7684;&#x6570;&#x636E;&#x3002;&#x6587;&#x4EF6;&#x8F83;&#x5C0F;&#xFF0C;&#x6062;&#x590D;&#x9700;&#x8981;&#x4E0E;&#x524D;&#x6B21;&#x5907;&#x4EFD;&#x914D;&#x5408;&#x4F7F;&#x7528;&#x3002;</p>

            <hr>

            <h6>&#x6062;&#x590D;&#x8BF4;&#x660E;</h6>
            <ul>
                <li>&#x5907;&#x4EFD;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x5728;&#x5907;&#x4EFD;&#x5217;&#x8868;&#x4E2D;&#x67E5;&#x770B;&#x5E76;&#x7BA1;&#x7406;&#x5B83;</li>
                <li>&#x70B9;&#x51FB;&#x201C;&#x6062;&#x590D;&#x6570;&#x636E;&#x201D;&#x6309;&#x94AE;&#x53EF;&#x4ECE;&#x8BE5;&#x5907;&#x4EFD;&#x6062;&#x590D;&#x6570;&#x636E;</li>
                <li>&#x6062;&#x590D;&#x64CD;&#x4F5C;&#x9700;&#x8981;&#x7BA1;&#x7406;&#x5458;&#x786E;&#x8BA4;&#xFF0C;&#x6062;&#x590D;&#x8FC7;&#x7A0B;&#x4F1A;&#x8986;&#x76D6;&#x73B0;&#x6709;&#x6570;&#x636E;</li>
                <li>&#x6062;&#x590D;&#x524D;&#x7CFB;&#x7EDF;&#x4F1A;&#x81EA;&#x52A8;&#x8FDB;&#x884C;&#x5907;&#x4EFD;&#xFF0C;&#x907F;&#x514D;&#x6570;&#x636E;&#x4E22;&#x5931;</li>
            </ul>

            <hr>

            <h6>&#x5B89;&#x5168;&#x5EFA;&#x8BAE;</h6>
            <ul>
                <li>&#x5B9A;&#x671F;&#x8FDB;&#x884C;&#x5168;&#x91CF;&#x5907;&#x4EFD;&#xFF08;&#x5EFA;&#x8BAE;&#x6BCF;&#x5468;&#x4E00;&#x6B21;&#xFF09;</li>
                <li>&#x4E0B;&#x8F7D;&#x5907;&#x4EFD;&#x6587;&#x4EF6;&#x5230;&#x591A;&#x4E2A;&#x5B89;&#x5168;&#x4F4D;&#x7F6E;</li>
                <li>&#x5B9A;&#x671F;&#x9A8C;&#x8BC1;&#x5907;&#x4EFD;&#x6587;&#x4EF6;&#x7684;&#x5B8C;&#x6574;&#x6027;</li>
                <li>&#x4FDD;&#x6301;&#x5907;&#x4EFD;&#x6587;&#x4EF6;&#x7684;&#x8BBF;&#x95EE;&#x6743;&#x9650;&#x4E25;&#x683C;&#x63A7;&#x5236;</li>
            </ul>
        </div>
    </div>
</div>

<style>
    .card {
        border: 1px solid #ddd;
        border-radius: 6px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    }

    .form-check {
        padding-left: 0;
    }

    .form-check-input {
        margin-top: 0.3em;
    }

    .form-check-label {
        margin-left: 1.5em;
        cursor: pointer;
    }
</style>
{% endblock %}
