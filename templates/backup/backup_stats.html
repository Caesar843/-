{% extends 'base.html' %}

{% block title %}å¤‡ä»½ç»Ÿè®¡ - å•†åœºåº—é“ºæ™ºèƒ½è¿è¥ç®¡ç†ç³»ç»Ÿ{% endblock %}


{% block extra_css %}
{% include 'partials/modern_theme.html' %}
{% endblock %}



{% block content %}
<div class="page-shell">
    <div class="page-header">
        <div>
            <h1 class="page-title">ğŸ’¾ å¤‡ä»½ç»Ÿè®¡</h1>
            <div class="page-subtitle">å¤‡ä»½æƒ…å†µæ¦‚è§ˆä¸è¿è¡ŒçŠ¶æ€ç»Ÿè®¡</div>
        </div>
    </div>

        <div class="row g-3 mb-4">
            <div class="col-md-3">
                <div class="stat-card">
                    <h5>æ€»å¤‡ä»½æ•°</h5>
                    <div class="stat-value">{{ stats.total }}</div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stat-card" style="border-top-color: #10B981;">
                    <h5>æˆåŠŸ</h5>
                    <div class="stat-value">{{ stats.success }}</div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stat-card" style="border-top-color: #EF4444;">
                    <h5>å¤±è´¥</h5>
                    <div class="stat-value">{{ stats.failed }}</div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stat-card" style="border-top-color: #F59E0B;">
                    <h5>è¿è¡Œä¸­</h5>
                    <div class="stat-value">{{ stats.running }}</div>
                </div>
            </div>
        </div>

        <div class="section-card mb-4">
            <div class="card-header">
                <h5 class="card-title mb-0">ç»Ÿè®¡è¯¦æƒ…</h5>
            </div>
            <div class="card-body">
                <div class="row g-3">
                    <div class="col-md-4">
                        <div class="text-muted">ç­‰å¾…ä¸­</div>
                        <div class="fs-5">{{ stats.pending }}</div>
                    </div>
                    <div class="col-md-4">
                        <div class="text-muted">è‡ªåŠ¨å¤‡ä»½</div>
                        <div class="fs-5">{{ stats.automatic }}</div>
                    </div>
                    <div class="col-md-4">
                        <div class="text-muted">æ‰‹åŠ¨å¤‡ä»½</div>
                        <div class="fs-5">{{ stats.manual }}</div>
                    </div>
                    <div class="col-md-4">
                        <div class="text-muted">æˆåŠŸå¤‡ä»½æ€»å¤§å°</div>
                        <div class="fs-5">{{ stats.total_size }} bytes</div>
                    </div>
                    <div class="col-md-4">
                        <div class="text-muted">å¹³å‡è€—æ—¶</div>
                        <div class="fs-5">{{ stats.avg_duration|floatformat:2 }} ç§’</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="d-flex gap-2">
            <a class="btn btn-outline-primary" href="{% url 'backup:backup_list' %}">è¿”å›å¤‡ä»½åˆ—è¡¨</a>
            <a class="btn btn-primary" href="{% url 'backup:backup_create' %}">åˆ›å»ºå¤‡ä»½</a>
        </div>
    </div>
</div>
{% endblock %}
